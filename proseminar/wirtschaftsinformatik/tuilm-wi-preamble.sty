\ProvidesPackage{tuilm-wi-preamble}

% --- set document language ---

\AtBeginDocument{
	\selectlanguage{ngerman}
%	\selectlanguage{english}
}

% ----------------------- PACKAGE INCLUDES -----------------------------

% --- More info about using the included packages can be found at ------
% --- ShareLatex: https://www.sharelatex.com/learn/Main_Page

% --- XeLaTeX specific settings

\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX} % Supports LaTeX quoting style

% --------------------------------------------
% FONT SETTINGS
% --------------------------------------------

% Tex Gyre Termes
\setromanfont[
ExternalLocation=./fonts/,
BoldFont=texgyretermes-bold.otf,
ItalicFont=texgyretermes-italic.otf,
BoldItalicFont=texgyretermes-bolditalic.otf,
]{texgyretermes-regular.otf}

% --------------------------------------------
\usepackage{minted} % support formatted code blocks
\usepackage[table]{xcolor}
\usepackage{tabularx} % support simple table creation
\usepackage{fancyhdr} % used for page header
\usepackage{booktabs,ctable} % used for tables 
\usepackage{url} % add URLs in the document with \url{}
\usepackage{titlesec} % Textüberschriften anpassen
\usepackage{blindtext}
\usepackage{listings}
\usepackage[nosumlimits]{amsmath}
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{subfiles} % Support compiliation of subfiles

\usepackage{graphicx} % Support inserting images
\graphicspath{{images/}{../images/}} % Path where images are stored

\usepackage{float}
\floatstyle{boxed} 
\restylefloat{figure} % Ränder um alle Abbildungen

\usepackage[english, ngerman]{babel}
\usepackage[onehalfspacing]{setspace} %1,5 Zeilenabstand
\usepackage[printonlyused]{acronym} % Abkürzungsverzeichnis
\usepackage[colorlinks, linkcolor = black, citecolor = black, filecolor = black, urlcolor = blue]{hyperref}
\usepackage[includeheadfoot,paper=a4paper,left=3.5cm,right=2.5cm,top=1.6cm,bottom = 1.3cm]{geometry}
% ------------- PAGE AND FORMATTING SETTINGS ----------------------

% ---------- Page Header -----------

\pagestyle{fancy}
\fancyhf{}
\fancyfoot[R]{\thepage}
\fancyhead[R]{}
\fancyhead[L]{RDF basierte semantische Annotationsansätze}

% --------- Page Formatting ---------

\titleformat{\section}[hang]{\large\bfseries}{\thesection. }{0pt}{}% space in der hinteren oder punkte in der vorderen anders entscheinden
\titleformat{\subsection}[hang]{\normalsize\bfseries}{\thesubsection. }{0pt}{}
\titleformat{\subsubsection}[hang]{\normalsize\bfseries}{\thesubsubsection. }{0pt}{}
\titleformat{\paragraph}[hang]{\normalsize\mdseries\itshape}{\theparagraph\quad}{0pt}{} %mdseries: Nicht fett; itshape: kursiv

\titlespacing{\section}{0pt}{0pt}{8pt}
\titlespacing{\subsection}{0pt}{20pt}{8pt}
\titlespacing{\subsubsection}{0pt}{20pt}{8pt}
\titlespacing{\paragraph}{0pt}{30pt}{3pt}

\parindent 0pt %Setzt Einrückung beim Absatz auf 0pt
\parskip .75em %Setzt Abstand zwischen Absätzen auf .75em

% --------------------- CITATIONS (Biblatex/Biber) ----------------

\usepackage[autostyle,german=quotes]{csquotes} % controls are quotations are handled

\usepackage[backend=biber,%
%
% --- other possible citation styles are listed here in comments
% --- feel free to choose other styles by commenting them out
%
% ----------------------------------------------------------------------------------------
% STYLE "author-short-title"  (Specific for Fachgebiet Informations- und Wissensmanagement)
% ----------------------------------------------------------------------------------------
       style=custom-biblatex/author-short-title,
       citestyle=custom-biblatex/author-short-title,
       bibstyle=custom-biblatex/author-short-title,
       autocite=footnote,
       hyperref=true,
       sortlocale=de_DE,
       uniquename=false,
       url=true,
       doi=false,
       isbn=false,
       eprint=false,
       maxcitenames=3,
       maxnames=3,
       minnames=1,
       maxbibnames=99,
       sorting=nty,
% ---------------------------------------------------------------------------------------
% STYLE "authoryear-icomp-wi" (Specific for Fachgebiet WI für Dienstleistung)
% ---------------------------------------------------------------------------------------
%       style=custom-biblatex/authoryear-icomp-wi,
%       citestyle=custom-biblatex/authoryear-icomp-wi,
%       bibstyle=authoryear-icomp-wi,
%       autocite=inline,
%       firstinits=true,
%       hyperref=true,
%       ibidtracker=false,
%       terseinits=true,
%       uniquename=false,
%       uniquelist=false,
%       sortlocale=de_DE,
%       pagetracker=false,
%       natbib=true,
%       url=false,
%       doi=false,
%       isbn=false,
%       eprint=false,
%       maxcitenames=2,
%       maxnames=2,
%       minnames=1,
%       maxbibnames=99,
%       sorting=nyt,
       ]{biblatex}
\addbibresource{bibliography.bib}
\setcounter{biburllcpenalty}{7000} % Kürzen von Überlangen URLs in dem Literaturverzeichnis
\setlength{\bibitemsep}{1em} % Abstand zwischen den Literaturangaben
\setlength{\bibhang}{2em} % Einzug nach jeweils erster Zeile

% --- Language mappings ---

% -------------------------- TABLE OF CONTENTS AND LISTINGS ----------------------------

\usepackage{tocloft} % Allows for customisation of the table of contents
\renewcommand\cftfigpresnum{\bfseries Abb. }
\renewcommand\cftfigaftersnum{\normalfont}\settowidth{\cftfignumwidth}{\cftfigpresnum}
\renewcommand{\cftfigaftersnumb}{\quad}		%Abb. vor jeder Abbildung im Abbildungsverzeichnis + Nummerierung

\renewcommand\cfttabpresnum{\bfseries Tab. }
\renewcommand\cfttabaftersnum{\normalfont}\settowidth{\cfttabnumwidth}{\cfttabpresnum}
\renewcommand{\cfttabaftersnumb}{\quad}		%Tab. vor jeder Tabelle im Tabellenverzeichnis + Nummerierung

\renewcommand\lstlistlistingname{\bfseries Quellcodeverzeichnis}

\defbibheading{head}{\section*{Literaturverzeichnis}}
\setkomafont{sectioning}{\normalcolor\bfseries} % make sure TOC font matches mainfont
\urlstyle{same} % do not display urls as mono-space font

% --- Formula Listing -----

\DeclareNewTOC[%
 type=formel,
 name={Formel},%
 hang=1.9em,%
 listname={Formelverzeichnis}
]{for}

\newcommand*{\formelentry}[1]{%
 \addcontentsline{for}{formel}{\textbf{Form.} \protect\numberline{\textbf{\theequation}} #1}%
} %Abkürzung Form. vor jeder Formel im Formelverzeichnis

% --- Code Listing --------

% --- Symbolverzeichnis ---

% implements the following german naming conventions:
% refeq: siehe Gleichung <Nr.>;
% intoc: Aufnahme in Inhaltsverzeichnis
% refpage: Seite <Nr.>;
\usepackage[german, intoc]{nomencl}
\makenomenclature

% -------------------- CUSTOM COMMANDS ----------------------------

\newcommand{\changefont}[3]{
\fontfamily{#1} \fontseries{#2} \fontshape{#3} \selectfont}
